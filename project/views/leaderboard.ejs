<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/private/css/framework.css">
    <link rel="stylesheet" href="/private/css/boards.css">
    <link rel="stylesheet" href="/private/css/level.css">
    <link rel="stylesheet" href="/private/css/navbar.css">
    <link rel="shortcut icon" href="/private/images/logo.png" type="image/x-icon">
    <title>Leaderboard | ATC</title>
</head>
<body>
    <div id="nav"></div>
    <section class="board w85" id="leaderboard">
        <h1 class="fs30" id="header">Leaderboard</h1>
        <div class="sep">
        </div>
        <%_ if(top_entries.length > 0) { %>
            <table id="leaderboard-entries">
                <tr class="fs20 m20" id="table-header">
                    <%_ for(let index in id_types) { %>
                        <th class="fs20 m20"><%= id_types[index] %></th>
                    <%_ } %>
                </tr>
                <%_ for(let entry = 0; entry < top_entries.length; entry++) { %>
                    <tr id="entry<%= `${entry + 1}` %>">
                        <%_ for(let x in top_entries[entry]) { %>
                            <th class="fs20 m20 text-center">
                                <%_ if(x != 'personID') { %>
                                    <%_ if(x == 'level') { %>
                                        <a href="<%= `/level?${encrypted_levels[entry]}`%>"><%= top_entries[entry][x] %></a>
                                    <%_ } else if (x == 'name') { %>
                                        <a href="<%= `/profile?id=${top_entries[entry].personID}` %>"><%= top_entries[entry][x] %></a>
                                    <%_ } else { %>
                                        <%= top_entries[entry][x] %>
                                    <%_ } %>
                                <%_ } %>
                            </th>
                            <%_ } %>
                        </tr>
                        <%_ } %>
                    </table>
                    <%_ } else { %>
            <p class="text-center fs20 m20">Nothing to see here :(</p>
        <%_ } %>

    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <script>
        $(() => {
            $('#nav').load('/views/navbar.ejs')
        })
    </script>
</body>
</html>